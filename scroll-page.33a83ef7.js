!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var o,u=a("bpxeT"),s=a("2TvXO"),c=a("dgVK0"),i=a("86MAb"),l=a("iU1Pc"),d=a("5IjG7"),f=document.querySelector(".js-search-form"),p=document.querySelector(".js-gallery"),h=document.querySelector(".js-search-input"),y=new(0,c.UnsplashAPI),g=(o=e(u)(e(s).mark((function t(r){var n;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.page+=1,t.prev=1,t.next=4,y.fetchPhotosByQuery();case 4:if(!((n=t.sent).data.totalHits<=y.per_page*y.page)){t.next=11;break}return p.insertAdjacentHTML("beforeend",(0,i.default)(n.data.hits)),v.unobserve(document.querySelector(".target-element")),m(),e(l).Notify.info("We're sorry, but you've reached the end of search results.",{timeout:3e3}),t.abrupt("return");case 11:p.insertAdjacentHTML("beforeend",(0,i.default)(n.data.hits)),m(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])}))),function(e){return o.apply(this,arguments)}),v=new IntersectionObserver((function(e,t){e[0].isIntersecting&&g()}),{root:null,rootMargin:"600px",threshold:1}),b=function(){var t=e(u)(e(s).mark((function t(r){var n;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),y.query=h.value,y.page=1,t.prev=3,t.next=6,y.fetchPhotosByQuery();case 6:if(0!==(n=t.sent).data.hits.length){t.next=13;break}return e(l).Notify.info("Sorry, there are no images matching your search query. Please try again."),p.innerHTML="",v.unobserve(document.querySelector(".target-element")),r.target.reset(),t.abrupt("return");case 13:if(!(n.data.hits.length<y.per_page)){t.next=19;break}return p.innerHTML=(0,i.default)(n.data.hits),m(),v.unobserve(document.querySelector(".target-element")),e(l).Notify.failure("We're sorry, but you've reached the end of search results.",{timeout:3e3}),t.abrupt("return");case 19:p.innerHTML=(0,i.default)(n.data.hits),m(),v.observe(document.querySelector(".target-element")),e(l).Notify.success("Hooray! We found ".concat(n.data.totalHits," totalHits images."),{timeout:3e3}),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(3),console.log(t.t0);case 28:case"end":return t.stop()}}),t,null,[[3,25]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){return new(e(d))(".gallery a",{captionsData:"alt",captionDelay:300})};f.addEventListener("submit",b)}();
//# sourceMappingURL=scroll-page.33a83ef7.js.map
